import React, { useEffect, useState } from 'react';
import './LoginRegister.scss';
import RegisterConsumer from '../RegisterConsumer/RegisterConsumer';
import RegisterBussines from '../RegisterBussines/RegisterBussines';
import { useLocation } from 'react-router-dom';

const LoginRegister = () => {
  const location=useLocation();
  console.log(434,location);
  const [selectedType, setSelectedType] = useState(location.hash?'Business':'Consumer');
  useEffect(()=>{
    if(location.hash){
      setSelectedType('Business')
    }else setSelectedType('Consumer')
  },[location.hash])
  const handleChange = event => {
    setSelectedType(event.target.value);
  };
  return (
    <div className="login-register-container form-log">
      <h2>
        <svg
          width="40"
          height="40"
          viewBox="0 0 40 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M20 3.33325C10.795 3.33325 3.33332 10.7949 3.33332 19.9999C3.33064 22.2946 3.80312 24.565 4.72101 26.6681C5.6389 28.7712 6.98232 30.6615 8.66666 32.2199C9.5856 33.0728 10.5975 33.8197 11.6833 34.4466C14.2122 35.9047 17.0808 36.6704 20 36.6666C24.2048 36.6742 28.2556 35.0848 31.3333 32.2199C33.0177 30.6615 34.3611 28.7712 35.279 26.6681C36.1969 24.565 36.6693 22.2946 36.6667 19.9999V18.3333C36.6667 17.8912 36.4911 17.4673 36.1785 17.1547C35.8659 16.8422 35.442 16.6666 35 16.6666C34.558 16.6666 34.134 16.8422 33.8215 17.1547C33.5089 17.4673 33.3333 17.8912 33.3333 18.3333V19.9999C33.3384 23.28 32.1297 26.4461 29.94 28.8883C28.4939 26.5406 26.265 24.7792 23.6467 23.9149C24.8487 23.1292 25.7649 21.9765 26.2589 20.6281C26.7529 19.2798 26.7984 17.8079 26.3885 16.4317C25.9786 15.0554 25.1353 13.8483 23.984 12.9899C22.8328 12.1316 21.4352 11.6679 19.9992 11.6679C18.5632 11.6679 17.1655 12.1316 16.0143 12.9899C14.863 13.8483 14.0197 15.0554 13.6098 16.4317C13.2 17.8079 13.2454 19.2798 13.7394 20.6281C14.2335 21.9765 15.1496 23.1292 16.3517 23.9149C13.7339 24.7796 11.5057 26.5409 10.06 28.8883C8.34413 26.9696 7.22028 24.5954 6.82411 22.0521C6.42794 19.5088 6.77639 16.9052 7.8274 14.5556C8.8784 12.206 10.587 10.2108 12.747 8.81096C14.907 7.41107 17.426 6.66631 20 6.66659H21.6667C22.1087 6.66659 22.5326 6.49099 22.8452 6.17843C23.1577 5.86587 23.3333 5.44195 23.3333 4.99992C23.3333 4.55789 23.1577 4.13397 22.8452 3.82141C22.5326 3.50885 22.1087 3.33325 21.6667 3.33325H20ZM20 33.3333C17.3772 33.3374 14.812 32.5643 12.6283 31.1116C13.3361 29.7699 14.3967 28.6469 15.6958 27.8636C16.9948 27.0802 18.4831 26.6664 20 26.6666C21.5169 26.6664 23.0051 27.0802 24.3042 27.8636C25.6033 28.6469 26.6639 29.7699 27.3717 31.1116C25.1879 32.5643 22.6228 33.3374 20 33.3333ZM20 21.6666C20.884 21.6666 21.7319 21.3154 22.357 20.6903C22.9821 20.0652 23.3333 19.2173 23.3333 18.3333C23.3333 17.4492 22.9821 16.6014 22.357 15.9762C21.7319 15.3511 20.884 14.9999 20 14.9999C19.1159 14.9999 18.2681 15.3511 17.643 15.9762C17.0178 16.6014 16.6667 17.4492 16.6667 18.3333C16.6667 19.2173 17.0178 20.0652 17.643 20.6903C18.2681 21.3154 19.1159 21.6666 20 21.6666Z"
            fill="#14213D"
          />

          <path
            d="M30 4.99992C30 4.55789 30.1756 4.13397 30.4881 3.82141C30.8007 3.50885 31.2246 3.33325 31.6667 3.33325C32.1087 3.33325 32.5326 3.50885 32.8452 3.82141C33.1577 4.13397 33.3333 4.55789 33.3333 4.99992V6.66659H35C35.442 6.66659 35.8659 6.84218 36.1785 7.15474C36.4911 7.4673 36.6667 7.89122 36.6667 8.33325C36.6667 8.77528 36.4911 9.1992 36.1785 9.51176C35.8659 9.82432 35.442 9.99992 35 9.99992H33.3333V11.6666C33.3333 12.1086 33.1577 12.5325 32.8452 12.8451C32.5326 13.1577 32.1087 13.3333 31.6667 13.3333C31.2246 13.3333 30.8007 13.1577 30.4881 12.8451C30.1756 12.5325 30 12.1086 30 11.6666V9.99992H28.3333C27.8913 9.99992 27.4674 9.82432 27.1548 9.51176C26.8422 9.1992 26.6667 8.77528 26.6667 8.33325C26.6667 7.89122 26.8422 7.4673 27.1548 7.15474C27.4674 6.84218 27.8913 6.66659 28.3333 6.66659H30V4.99992Z"
            fill="#14213D"
          />
        </svg>
        Create account
      </h2>

      <div className="type-register">
        {/* 1. Consumer Option */}
        <label className="custom-radio">
          <input
            type="radio"
            name="customerType"
            value="Consumer"
            checked={selectedType === 'Consumer'}
            onChange={handleChange}
          />
          Consumer {/* Текст іде одразу після input */}
        </label>

        {/* 2. Business Option */}
        <label className="custom-radio">
          <input
            type="radio"
            name="customerType"
            value="Business"
            checked={selectedType === 'Business'}
            onChange={handleChange}
          />
          Business {/* Текст іде одразу після input */}
        </label>
      </div>

      {selectedType == 'Consumer' ? <RegisterConsumer /> : <RegisterBussines />}
    </div>
  );
};

export default LoginRegister;
